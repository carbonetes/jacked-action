'use strict';

var versions = function(req, res) {
    var name = req.params.artifactName,
        isAscending = 'ascending' === req.query.sort;
    if (isAscending) {
        res.jsonp([name + ".1", name + ".2"]);
    } else {
        res.jsonp([name + ".2", name + ".1"]);
    }
};

var create = function(req, res) {
    if (req.query.type === 'resolved') {
        res.jsonp({
            "name": "mindTap",
            "version": "1.1.0",
            "dependencies": {
                "dep1": {
                    "name": "dep1",
                    "version": "3.3.3"
                }
            }
        });

    } else {
        res.jsonp({
            "name": "mindTap",
            "version": "1.1.0",
            "dependencies": {
                "dep1": "3.3.3"
            }
        });
    }
};
module.exports = function(app) {
    app.post('/artifacts', create);
    app.get('/artifacts/:artifactName', versions);
};
