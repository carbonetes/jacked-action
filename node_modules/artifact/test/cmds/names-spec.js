var chai = require('chai'),
    sinon = require("sinon"),
    sinonChai = require("sinon-chai"),
    expect = chai.expect;

var artifact, endpoint;

describe('lib/cmds/names.js', function() {

    before(function() {
        artifact = require('../../lib/artifact');
        endpoint = require('../../lib/endpoint');
        chai.use(sinonChai);
    });

    after(function() {
        endpoint.get.restore();
    });

    it('Registers names task to artifact', function() {
        expect(artifact.cmds).to.have.property('names');
    });

    it('Calls endpoint.get() when names is invoked', function() {
        var spy = sinon.spy(endpoint, 'get');
        artifact.cmds.names();
        expect(spy).to.have.been.called;
    });

});
